{
  "metadata": {
    "title": "Classical String Quartet - Allegro",
    "composer": "Universal Generator",
    "genre": "classical",
    "tempo": 140,
    "time_signature": [4, 4],
    "ticks_per_beat": 480,
    "output_filename": "output/classical_string_quartet.mid",
    "swing_ratio": 0.5,
    "key_signature": "D",
    "total_instruments": 4,
    "ensemble_type": "String Quartet",
    "instrument_roles": {
      "violin1": "Lead melody, highest voice, brilliant passages",
      "violin2": "Harmony, counter-melodies, upper support",
      "viola": "Inner harmony, tenor voice, middle register",
      "cello": "Bass line, harmonic foundation, lowest voice"
    },
    "performance_notes": "Traditional string quartet arrangement in sonata form with exposition, development, recapitulation, and coda",
    "difficulty_level": "Advanced",
    "estimated_duration": "4-5 minutes"
  },
  "instruments": {
    "violin1": {
      "name": "Violin I",
      "midi_channel": 0,
      "program_number": 40,
      "default_velocity": 85,
      "velocity_range": [50, 120],
      "note_range": [55, 103],
      "default_duration_multiplier": 0.95
    },
    "violin2": {
      "name": "Violin II",
      "midi_channel": 1,
      "program_number": 40,
      "default_velocity": 80,
      "velocity_range": [45, 110],
      "note_range": [55, 96],
      "default_duration_multiplier": 0.95
    },
    "viola": {
      "name": "Viola",
      "midi_channel": 2,
      "program_number": 41,
      "default_velocity": 75,
      "velocity_range": [40, 105],
      "note_range": [48, 84],
      "default_duration_multiplier": 0.98
    },
    "cello": {
      "name": "Cello",
      "midi_channel": 3,
      "program_number": 42,
      "default_velocity": 80,
      "velocity_range": [45, 110],
      "note_range": [36, 72],
      "default_duration_multiplier": 0.98
    }
  },
  "song_structure": {
    "sections": ["exposition_A", "exposition_B", "development", "recapitulation_A", "recapitulation_B", "coda"],
    "section_definitions": {
      "exposition_A": {
        "length_bars": 16,
        "chord_progression": ["D", "A", "Bm", "F#m", "G", "D", "A", "D", "D", "A", "Bm", "F#m", "G", "D", "A", "D"],
        "pattern_assignment": {
          "violin1": "classical_melody_primary",
          "violin2": "classical_harmony_upper",
          "viola": "classical_harmony_middle",
          "cello": "classical_bass_alberti"
        }
      },
      "exposition_B": {
        "length_bars": 16,
        "chord_progression": ["A", "E", "F#m", "C#m", "D", "A", "E", "A", "A", "E", "F#m", "C#m", "D", "A", "E", "A"],
        "pattern_assignment": {
          "violin1": "classical_melody_secondary",
          "violin2": "classical_counterpoint",
          "viola": "classical_harmony_middle",
          "cello": "classical_bass_waltz"
        }
      },
      "development": {
        "length_bars": 24,
        "chord_progression": ["Bm", "F#m", "Em", "A", "D", "G", "C", "F", "Bb", "Eb", "Ab", "Db", "Gb", "B", "E", "A", "D", "G", "Em", "Am", "F", "C", "G", "D"],
        "pattern_assignment": {
          "violin1": "classical_development_melodic",
          "violin2": "classical_development_imitation",
          "viola": "classical_development_bridge",
          "cello": "classical_bass_development"
        }
      },
      "recapitulation_A": {
        "length_bars": 16,
        "chord_progression": ["D", "A", "Bm", "F#m", "G", "D", "A", "D", "D", "A", "Bm", "F#m", "G", "D", "A", "D"],
        "pattern_assignment": {
          "violin1": "classical_melody_primary_ornament",
          "violin2": "classical_harmony_upper",
          "viola": "classical_harmony_middle",
          "cello": "classical_bass_alberti"
        }
      },
      "recapitulation_B": {
        "length_bars": 16,
        "chord_progression": ["D", "A", "Bm", "F#m", "G", "D", "A", "D", "D", "A", "Bm", "F#m", "G", "D", "A", "D"],
        "pattern_assignment": {
          "violin1": "classical_melody_secondary_transposed",
          "violin2": "classical_counterpoint",
          "viola": "classical_harmony_middle",
          "cello": "classical_bass_waltz"
        }
      },
      "coda": {
        "length_bars": 8,
        "chord_progression": ["G", "D", "A", "D", "G", "A", "D", "D"],
        "pattern_assignment": {
          "violin1": "classical_coda_brilliant",
          "violin2": "classical_coda_harmony",
          "viola": "classical_coda_harmony",
          "cello": "classical_coda_bass"
        }
      }
    }
  },
  "chord_library": {
    "D": {
      "root_note": 62,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 38,
      "voicings": {
        "close": [62, 66, 69],
        "open": [62, 69, 74],
        "spread": [50, 62, 66, 69],
        "triad": [62, 66, 69]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "pentatonic": [0, 2, 4, 7, 9]
      }
    },
    "A": {
      "root_note": 57,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 45,
      "voicings": {
        "close": [57, 61, 64],
        "open": [57, 64, 69],
        "spread": [45, 57, 61, 64],
        "triad": [57, 61, 64]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "mixolydian": [0, 2, 4, 5, 7, 9, 10]
      }
    },
    "Bm": {
      "root_note": 59,
      "chord_tones": [0, 3, 7],
      "extensions": [10, 14, 17],
      "bass_note": 47,
      "voicings": {
        "close": [59, 62, 66],
        "open": [59, 66, 71],
        "spread": [47, 59, 62, 66],
        "triad": [59, 62, 66]
      },
      "scales": {
        "natural_minor": [0, 2, 3, 5, 7, 8, 10],
        "dorian": [0, 2, 3, 5, 7, 9, 10]
      }
    },
    "F#m": {
      "root_note": 54,
      "chord_tones": [0, 3, 7],
      "extensions": [10, 14, 17],
      "bass_note": 42,
      "voicings": {
        "close": [54, 57, 61],
        "open": [54, 61, 66],
        "spread": [42, 54, 57, 61],
        "triad": [54, 57, 61]
      },
      "scales": {
        "natural_minor": [0, 2, 3, 5, 7, 8, 10],
        "dorian": [0, 2, 3, 5, 7, 9, 10]
      }
    },
    "G": {
      "root_note": 55,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 43,
      "voicings": {
        "close": [55, 59, 62],
        "open": [55, 62, 67],
        "spread": [43, 55, 59, 62],
        "triad": [55, 59, 62]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "mixolydian": [0, 2, 4, 5, 7, 9, 10]
      }
    },
    "E": {
      "root_note": 64,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 40,
      "voicings": {
        "close": [64, 68, 71],
        "open": [64, 71, 76],
        "spread": [52, 64, 68, 71],
        "triad": [64, 68, 71]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "mixolydian": [0, 2, 4, 5, 7, 9, 10]
      }
    },
    "C#m": {
      "root_note": 61,
      "chord_tones": [0, 3, 7],
      "extensions": [10, 14, 17],
      "bass_note": 49,
      "voicings": {
        "close": [61, 64, 68],
        "open": [61, 68, 73],
        "spread": [49, 61, 64, 68],
        "triad": [61, 64, 68]
      },
      "scales": {
        "natural_minor": [0, 2, 3, 5, 7, 8, 10],
        "harmonic_minor": [0, 2, 3, 5, 7, 8, 11]
      }
    },
    "Em": {
      "root_note": 52,
      "chord_tones": [0, 3, 7],
      "extensions": [10, 14, 17],
      "bass_note": 40,
      "voicings": {
        "close": [52, 55, 59],
        "open": [52, 59, 64],
        "spread": [40, 52, 55, 59],
        "triad": [52, 55, 59]
      },
      "scales": {
        "natural_minor": [0, 2, 3, 5, 7, 8, 10],
        "dorian": [0, 2, 3, 5, 7, 9, 10]
      }
    },
    "Am": {
      "root_note": 57,
      "chord_tones": [0, 3, 7],
      "extensions": [10, 14, 17],
      "bass_note": 45,
      "voicings": {
        "close": [57, 60, 64],
        "open": [57, 64, 69],
        "spread": [45, 57, 60, 64],
        "triad": [57, 60, 64]
      },
      "scales": {
        "natural_minor": [0, 2, 3, 5, 7, 8, 10],
        "dorian": [0, 2, 3, 5, 7, 9, 10]
      }
    },
    "C": {
      "root_note": 60,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 48,
      "voicings": {
        "close": [60, 64, 67],
        "open": [60, 67, 72],
        "spread": [48, 60, 64, 67],
        "triad": [60, 64, 67]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "ionian": [0, 2, 4, 5, 7, 9, 11]
      }
    },
    "F": {
      "root_note": 53,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 41,
      "voicings": {
        "close": [53, 57, 60],
        "open": [53, 60, 65],
        "spread": [41, 53, 57, 60],
        "triad": [53, 57, 60]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "lydian": [0, 2, 4, 6, 7, 9, 11]
      }
    },
    "Bb": {
      "root_note": 58,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 46,
      "voicings": {
        "close": [58, 62, 65],
        "open": [58, 65, 70],
        "spread": [46, 58, 62, 65],
        "triad": [58, 62, 65]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "lydian": [0, 2, 4, 6, 7, 9, 11]
      }
    },
    "Eb": {
      "root_note": 51,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 39,
      "voicings": {
        "close": [51, 55, 58],
        "open": [51, 58, 63],
        "spread": [39, 51, 55, 58],
        "triad": [51, 55, 58]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "lydian": [0, 2, 4, 6, 7, 9, 11]
      }
    },
    "Ab": {
      "root_note": 56,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 44,
      "voicings": {
        "close": [56, 60, 63],
        "open": [56, 63, 68],
        "spread": [44, 56, 60, 63],
        "triad": [56, 60, 63]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "lydian": [0, 2, 4, 6, 7, 9, 11]
      }
    },
    "Db": {
      "root_note": 61,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 49,
      "voicings": {
        "close": [61, 65, 68],
        "open": [61, 68, 73],
        "spread": [49, 61, 65, 68],
        "triad": [61, 65, 68]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "lydian": [0, 2, 4, 6, 7, 9, 11]
      }
    },
    "Gb": {
      "root_note": 54,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 42,
      "voicings": {
        "close": [54, 58, 61],
        "open": [54, 61, 66],
        "spread": [42, 54, 58, 61],
        "triad": [54, 58, 61]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "lydian": [0, 2, 4, 6, 7, 9, 11]
      }
    },
    "B": {
      "root_note": 59,
      "chord_tones": [0, 4, 7],
      "extensions": [9, 11, 14],
      "bass_note": 47,
      "voicings": {
        "close": [59, 63, 66],
        "open": [59, 66, 71],
        "spread": [47, 59, 63, 66],
        "triad": [59, 63, 66]
      },
      "scales": {
        "major": [0, 2, 4, 5, 7, 9, 11],
        "lydian": [0, 2, 4, 6, 7, 9, 11]
      }
    }
  },
  "pattern_library": {
    "classical_melody_primary": {
      "instrument": "violin1",
      "note_pattern": [1, 2, 3, 2, 1, 0, 4, 3, 2, 3, 4, 5, 4, 3, 2, 1],
      "note_source": "scale_major",
      "velocity_pattern": [100, 95, 105, 95, 90, 0, 110, 105, 90, 95, 105, 110, 105, 95, 90, 85],
      "duration_pattern": [120, 120, 240, 120, 240, 0, 240, 120, 120, 120, 120, 240, 120, 120, 120, 240],
      "timing_offset": 0,
      "melodic_direction": "ascending",
      "scale_start_degree": 1
    },
    "classical_melody_secondary": {
      "instrument": "violin1",
      "note_pattern": [5, 4, 3, 4, 5, 0, 3, 2, 1, 2, 3, 4, 3, 2, 1, 0],
      "note_source": "scale_major",
      "velocity_pattern": [95, 90, 85, 90, 95, 0, 85, 80, 75, 80, 85, 90, 85, 80, 75, 0],
      "duration_pattern": [120, 120, 120, 120, 240, 0, 120, 120, 120, 120, 120, 240, 120, 120, 240, 0],
      "timing_offset": 0,
      "melodic_direction": "descending",
      "scale_start_degree": 5
    },
    "classical_melody_primary_ornament": {
      "instrument": "violin1",
      "note_pattern": [1, 2, 1, 2, 3, 2, 1, 0, 4, 5, 4, 3, 4, 5, 4, 3],
      "note_source": "scale_major",
      "velocity_pattern": [100, 95, 100, 95, 105, 95, 90, 0, 110, 115, 110, 105, 110, 115, 110, 105],
      "duration_pattern": [60, 60, 60, 60, 120, 120, 240, 0, 120, 60, 60, 120, 120, 60, 60, 120],
      "timing_offset": 0,
      "melodic_direction": "mixed",
      "scale_start_degree": 1
    },
    "classical_melody_secondary_transposed": {
      "instrument": "violin1",
      "note_pattern": [1, 2, 3, 2, 1, 0, 4, 3, 2, 3, 4, 5, 4, 3, 2, 1],
      "note_source": "scale_major",
      "velocity_pattern": [95, 90, 85, 90, 95, 0, 85, 80, 75, 80, 85, 90, 85, 80, 75, 70],
      "duration_pattern": [120, 120, 120, 120, 240, 0, 120, 120, 120, 120, 120, 240, 120, 120, 120, 240],
      "timing_offset": 0,
      "melodic_direction": "ascending",
      "scale_start_degree": 1
    },
    "classical_development_melodic": {
      "instrument": "violin1",
      "note_pattern": [3, 4, 5, 6, 5, 4, 3, 2, 1, 2, 3, 4, 5, 4, 3, 2],
      "note_source": "scale_major",
      "velocity_pattern": [105, 110, 115, 120, 115, 110, 105, 95, 85, 95, 105, 110, 115, 110, 105, 95],
      "duration_pattern": [90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90],
      "timing_offset": 0,
      "melodic_direction": "mixed",
      "scale_start_degree": 3
    },
    "classical_coda_brilliant": {
      "instrument": "violin1",
      "note_pattern": [1, 3, 5, 7, 5, 3, 1, 0, 1, 3, 5, 7, 8, 7, 5, 3],
      "note_source": "arpeggio_up",
      "velocity_pattern": [115, 120, 125, 127, 125, 120, 115, 0, 115, 120, 125, 127, 127, 125, 120, 115],
      "duration_pattern": [60, 60, 60, 60, 60, 60, 120, 0, 60, 60, 60, 60, 240, 60, 60, 240],
      "timing_offset": 0,
      "arpeggio_octaves": 2
    },
    "classical_harmony_upper": {
      "instrument": "violin2",
      "note_pattern": [0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1],
      "note_source": "chord_voicing_triad",
      "velocity_pattern": [0, 75, 0, 80, 0, 75, 0, 80, 0, 75, 0, 80, 0, 75, 0, 80],
      "duration_pattern": [0, 180, 0, 180, 0, 180, 0, 180, 0, 180, 0, 180, 0, 180, 0, 180],
      "timing_offset": 0
    },
    "classical_counterpoint": {
      "instrument": "violin2",
      "note_pattern": [2, 1, 3, 2, 4, 3, 2, 1, 3, 2, 4, 3, 5, 4, 3, 2],
      "note_source": "scale_major",
      "velocity_pattern": [80, 75, 85, 80, 90, 85, 80, 75, 85, 80, 90, 85, 95, 90, 85, 80],
      "duration_pattern": [120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120],
      "timing_offset": 240,
      "melodic_direction": "contrary",
      "scale_start_degree": 2
    },
    "classical_development_imitation": {
      "instrument": "violin2",
      "note_pattern": [1, 2, 3, 4, 3, 2, 1, 0, 2, 3, 4, 5, 4, 3, 2, 1],
      "note_source": "scale_major",
      "velocity_pattern": [90, 95, 100, 105, 100, 95, 90, 0, 95, 100, 105, 110, 105, 100, 95, 90],
      "duration_pattern": [120, 120, 120, 120, 120, 120, 240, 0, 120, 120, 120, 120, 120, 120, 120, 240],
      "timing_offset": 480,
      "melodic_direction": "imitation",
      "scale_start_degree": 1
    },
    "classical_coda_harmony": {
      "instrument": "violin2",
      "note_pattern": [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1],
      "note_source": "chord_voicing_triad",
      "velocity_pattern": [100, 0, 105, 0, 100, 0, 105, 0, 100, 0, 105, 0, 110, 115, 120, 125],
      "duration_pattern": [240, 0, 240, 0, 240, 0, 240, 0, 240, 0, 240, 0, 240, 240, 240, 480],
      "timing_offset": 0
    },
    "classical_harmony_middle": {
      "instrument": "viola",
      "note_pattern": [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0],
      "note_source": "chord_voicing_triad",
      "velocity_pattern": [70, 0, 0, 0, 75, 0, 0, 0, 70, 0, 0, 0, 75, 0, 0, 0],
      "duration_pattern": [360, 0, 0, 0, 360, 0, 0, 0, 360, 0, 0, 0, 360, 0, 0, 0],
      "timing_offset": 0
    },
    "classical_development_bridge": {
      "instrument": "viola",
      "note_pattern": [1, 2, 1, 0, 2, 3, 2, 0, 3, 4, 3, 0, 4, 5, 4, 0],
      "note_source": "scale_major",
      "velocity_pattern": [75, 80, 75, 0, 80, 85, 80, 0, 85, 90, 85, 0, 90, 95, 90, 0],
      "duration_pattern": [120, 120, 240, 0, 120, 120, 240, 0, 120, 120, 240, 0, 120, 120, 240, 0],
      "timing_offset": 120,
      "melodic_direction": "ascending",
      "scale_start_degree": 3
    },
    "classical_bass_alberti": {
      "instrument": "cello",
      "note_pattern": [1, 3, 2, 3, 1, 3, 2, 3, 1, 3, 2, 3, 1, 3, 2, 3],
      "note_source": "chord_voicing_triad",
      "velocity_pattern": [75, 70, 75, 70, 75, 70, 75, 70, 75, 70, 75, 70, 75, 70, 75, 70],
      "duration_pattern": [110, 110, 110, 110, 110, 110, 110, 110, 110, 110, 110, 110, 110, 110, 110, 110],
      "timing_offset": 0
    },
    "classical_bass_waltz": {
      "instrument": "cello",
      "note_pattern": [1, 0, 0, 0, 2, 0, 3, 0, 1, 0, 0, 0, 2, 0, 3, 0],
      "note_source": "bass_note",
      "velocity_pattern": [85, 0, 0, 0, 70, 0, 70, 0, 85, 0, 0, 0, 70, 0, 70, 0],
      "duration_pattern": [360, 0, 0, 0, 180, 0, 180, 0, 360, 0, 0, 0, 180, 0, 180, 0],
      "timing_offset": 0
    },
    "classical_bass_development": {
      "instrument": "cello",
      "note_pattern": [1, 0, 2, 0, 3, 0, 4, 0, 3, 0, 2, 0, 1, 0, 0, 0],
      "note_source": "scale_major",
      "velocity_pattern": [80, 0, 75, 0, 80, 0, 85, 0, 80, 0, 75, 0, 70, 0, 0, 0],
      "duration_pattern": [180, 0, 180, 0, 180, 0, 180, 0, 180, 0, 180, 0, 360, 0, 0, 0],
      "timing_offset": 0,
      "melodic_direction": "mixed",
      "scale_start_degree": 1
    },
    "classical_coda_bass": {
      "instrument": "cello",
      "note_pattern": [1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1],
      "note_source": "bass_note",
      "velocity_pattern": [90, 0, 0, 0, 95, 0, 0, 0, 100, 0, 0, 0, 105, 110, 115, 120],
      "duration_pattern": [360, 0, 0, 0, 360, 0, 0, 0, 360, 0, 0, 0, 240, 240, 240, 480],
      "timing_offset": 0
    }
  },
  "algorithmic_generators": {
    "arpeggio_up": {
      "description": "Ascending arpeggio through chord tones",
      "algorithm": "chord_tone_sequence",
      "direction": "ascending"
    },
    "scale_major": {
      "description": "Major scale patterns",
      "algorithm": "scale_sequence",
      "scale_type": "major"
    }
  },
  "note_source_mappings": {
    "chord_voicing_close": "voicings.close",
    "chord_voicing_open": "voicings.open",
    "chord_voicing_spread": "voicings.spread",
    "chord_voicing_triad": "voicings.triad",
    "bass_note": "bass_note",
    "arpeggio_up": "algorithmic_generators.arpeggio_up",
    "scale_major": "algorithmic_generators.scale_major"
  },
  "global_modifiers": {
    "swing_timing": {
      "enabled": false,
      "swing_ratio": 0.5,
      "apply_to_subdivisions": []
    },
    "humanization": {
      "timing_variance": 3,
      "velocity_variance": 5,
      "enabled": true
    },
    "dynamics": {
      "crescendo_sections": ["development", "coda"],
      "diminuendo_sections": [],
      "accent_beats": [1]
    }
  }
}
